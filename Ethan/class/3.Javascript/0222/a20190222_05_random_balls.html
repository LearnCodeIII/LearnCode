<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

</head>
<style>
    #rect {
        position: relative;
        width: 800px;
        height: 600px;
        background-color: #b0e9ff;
        top: 100px;
        overflow: hidden;
    }
    .ball {
        position: absolute;
        width: 40px;
        height: 40px;
        background-color: #ff2f27;
        border-radius: 50%;
        border: 1px solid black;
    }
</style>
<body>

<div id="rect"></div>


<script>

    const rect = document.querySelector('#rect');
    let b, i;
    let balls = [];

    // 隨機取得顏色
    const randomColor = ()=>{
        const zero = '000000';
        let c = Math.floor(Math.random()*256*256*256).toString(16);
        return '#' + zero.slice(0, 6-c.length) + c;
    };


    for(i=0; i<100; i++){
        let k = i*17;
        let x, y, size, bgc;

        b = document.createElement('div');
        b.className = 'ball';
        size = 10+Math.floor(Math.random()*31);
        b.style.left = Math.floor(Math.random()*800) + 'px';
        b.style.top = Math.floor(Math.random()*700)-50 + 'px';
        b.style.width = size +'px';
        b.style.height = size +'px';
        bgc = Math.floor(Math.random()*360);
        b.style.backgroundColor = randomColor();
        rect.appendChild(b);
        balls.push(b);
    }

    const run = ()=>{
        for(let i=0; i<balls.length; i++){
            let el = balls[i];

            let y = parseInt(el.style.top);
            let x = parseInt(el.style.left);
            if(y < -50){
                y += 700;
            }

            el.style.top = (y - 1 - Math.floor(Math.random()*5)) + 'px';
            el.style.left = (x + Math.floor(Math.random()*5)-2) + 'px';
        }

        setTimeout(run, 30);
    };
    run();


</script>
</body>
</html>

