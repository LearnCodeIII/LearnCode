<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Cat Walk</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css">
  <style>
    .map{
      position: relative;
      width:640px;
      height:480px;
      margin: 20px auto;
      background: url(images/map.png);
    }
    .cat{
      position: absolute;
      left:0;
      top:0;
      width:184px;   
      height:200px;   
      margin:2% auto;   
      background: url(images/cat.png) left top;
      transform: scale(.4);
    }  
    @keyframes play {  
       100% { background-position: -1658px; }   
    }
    .cat{   
        animation: play .8s steps(9) infinite;   
        -webkit-animation: play .8s steps(9) infinite;   
    }
  </style>
</head>
<body>
    <div class="container">
        <div class="py-2 text-center">
            <button type="button" class="btn btn-primary" data-speed="up">加速</button>
            <button type="button" class="btn btn-primary" data-speed="down">減速</button>
        </div>
    </div>
  <div class="map">
    <div class="cat"></div>
  </div><!-- map -->
  <script
  src="https://code.jquery.com/jquery-3.2.1.min.js"
  integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
  crossorigin="anonymous"></script>
  <script>
      var speed=10;
    $("body").keydown(function () {
            let keycode = event.which;
            if (keycode == 38 || keycode == 40 || keycode == 37 || keycode == 39) {
                let style = "";
                switch (keycode) {
                    case 38: //up
                        style = {
                            top: "-="+speed,
                            // background: color[colorIndex]
                        }
                        // $(".box").css({
                        //     top: "-=10px",
                        //     background: color[colorIndex]
                        // });
                        break;
                    case 40: //down
                        style = {
                            top: "+="+speed,
                            // background: color[colorIndex]
                        }

                        break;
                    case 37: //left
                        style = {
                            left: "-="+speed,
                            // background: color[colorIndex]
                        }

                        break;
                    case 39: //right
                        style = {
                            left: "+="+speed,
                            // background: color[colorIndex]
                        }
                        break;
                }
                $(".cat").css(style)
            }

        });
        $(".btn").click(function(){
            let speedUpDown=$(this).data("speed");
            if(speedUpDown=="up"){
                speed=speed+5;
            }else{
                speed=speed-5;
            }
        });
  </script>
</body>
</html>